# âœ… æµè§ˆå™¨ç‹¬ç«‹å·¥ç¨‹å·²åˆ›å»º

## ğŸ‰ å·²å®Œæˆ

### 1. åˆ›å»ºäº†ç‹¬ç«‹å·¥ç¨‹ `BsBrowserClient`
- âœ… WinForms é¡¹ç›®ï¼ˆ.NET 8.0ï¼‰
- âœ… ä½ç½®: `D:\gitcode\wx4helper\BsBrowserClient\`
- âœ… åŒ…å«é»˜è®¤çš„ Form1 å¯ç”¨ Designer è®¾è®¡

### 2. åˆ›å»ºäº†è®¾è®¡æ–‡æ¡£
- âœ… `BsBrowserClient/README.md` - å·¥ç¨‹è¯´æ˜
- âœ… `BaiShengVx3Plus/0-èµ„æ–™/ğŸŒæµè§ˆå™¨ç‹¬ç«‹å·¥ç¨‹è®¾è®¡.md` - è¯¦ç»†æ¶æ„è®¾è®¡

### 3. æ˜ç¡®äº†æ¶æ„
```
BaiShengVx3Plus (ä¸»ç¨‹åº)
    â”‚
    â”‚ Socket é€šä¿¡ (JSON åè®®)
    â†“
BsBrowserClient (ç‹¬ç«‹å·¥ç¨‹)
    â”œâ”€ Form1 (Designer è®¾è®¡ç•Œé¢)
    â”œâ”€ SocketServer (æ¥æ”¶å‘½ä»¤)
    â””â”€ PlatformScripts (äº‘é¡¶28ã€æµ·å³¡28...)
```

---

## ğŸ“‹ æ¥ä¸‹æ¥çš„å·¥ä½œ

### ä¼˜å…ˆçº§ P0: BsBrowserClient å·¥ç¨‹

1. **è®¾è®¡ä¸»çª—ä½“ç•Œé¢** (ä½¿ç”¨ Designer)
   - æ·»åŠ  CEF æµè§ˆå™¨æ§ä»¶åŒºåŸŸ
   - æ·»åŠ åœ°å€æ ã€åˆ·æ–°æŒ‰é’®
   - æ·»åŠ çŠ¶æ€æ ï¼ˆæ˜¾ç¤ºä½™é¢ã€çŠ¶æ€ç­‰ï¼‰
   - æ·»åŠ æ—¥å¿—é¢æ¿ï¼ˆå¯é€‰ï¼‰

2. **æ·»åŠ  NuGet åŒ…**
   ```bash
   cd BsBrowserClient
   dotnet add package CefSharp.WinForms --version 119.4.30
   dotnet add package Newtonsoft.Json --version 13.0.3
   ```

3. **å®ç°æ ¸å¿ƒåŠŸèƒ½**
   - `Models/Request.cs` - è¯·æ±‚æ¨¡å‹
   - `Models/Response.cs` - å“åº”æ¨¡å‹
   - `Services/SocketServer.cs` - Socket æœåŠ¡å™¨
   - `PlatformScripts/YunDing28Script.cs` - äº‘é¡¶28è„šæœ¬

### ä¼˜å…ˆçº§ P1: BaiShengVx3Plus å·¥ç¨‹

1. **å®ç° BrowserClient ç±»** (Socket å®¢æˆ·ç«¯)
   ```csharp
   // Services/AutoBet/BrowserClient.cs
   public class BrowserClient
   {
       private Process _process;
       private TcpClient _socket;
       
       public async Task Start(int port, string platform);
       public async Task<Response> SendCommand(Request request);
       public void Stop();
   }
   ```

2. **æ›´æ–° AutoBetService**
   - å¯åŠ¨æµè§ˆå™¨è¿›ç¨‹
   - é€šè¿‡ Socket å‘é€å‘½ä»¤
   - æ¥æ”¶è¿”å›ç»“æœ

---

## ğŸ¯ æ ¸å¿ƒè®¾è®¡åŸåˆ™

### âœ… åšåˆ°äº†
1. **ç‹¬ç«‹å·¥ç¨‹**: æµè§ˆå™¨æ˜¯ç‹¬ç«‹çš„ `.csproj`ï¼Œå¯ä»¥ç‹¬ç«‹å¼€å‘ã€è°ƒè¯•ã€éƒ¨ç½²
2. **Socket é€šä¿¡**: è¿›ç¨‹é—´é€šè¿‡ TCP Socket é€šä¿¡ï¼Œç®€å•å¯é 
3. **Designer ç•Œé¢**: ä½¿ç”¨ Visual Studio Designer è®¾è®¡ç•Œé¢ï¼Œç›´è§‚æ˜“ç»´æŠ¤
4. **å¹³å°æ‰©å±•**: æ–°å¢å¹³å°åªéœ€æ·»åŠ è„šæœ¬ç±»ï¼Œç®€å• `switch` é€‰æ‹©

### âŒ é¿å…äº†
1. ~~åœ¨ä¸»ç¨‹åºä¸­åµŒå…¥ CEF~~ - ä¼šå¯¼è‡´ä¸»ç¨‹åºè‡ƒè‚¿
2. ~~å¤æ‚çš„è¿›ç¨‹é—´é€šä¿¡æœºåˆ¶~~ - Socket + JSON è¶³å¤Ÿç®€å•
3. ~~è¿‡åº¦æŠ½è±¡çš„è®¾è®¡æ¨¡å¼~~ - ç›´æ¥ç”¨ `switch` é€‰æ‹©å¹³å°è„šæœ¬

---

## ğŸ“ é€šä¿¡åè®®ç¤ºä¾‹

### æŠ•æ³¨å‘½ä»¤
```json
// ä¸»ç¨‹åº â†’ æµè§ˆå™¨
{
  "Command": "PlaceBet",
  "Data": {
    "IssueId": "20231107001",
    "PlayType": "å¤§å°",
    "BetContent": "å¤§",
    "Amount": 100
  }
}

// æµè§ˆå™¨ â†’ ä¸»ç¨‹åº
{
  "Success": true,
  "Data": {
    "OrderId": "BS20231107001",
    "Balance": 900.00
  },
  "ErrorMessage": null
}
```

---

## ğŸš€ å¯åŠ¨æ–¹å¼

### å¼€å‘é˜¶æ®µ
1. å…ˆå¯åŠ¨ `BsBrowserClient` (ç‹¬ç«‹è°ƒè¯•)
2. å†å¯åŠ¨ `BaiShengVx3Plus`
3. ä¸»ç¨‹åºé€šè¿‡ Socket è¿æ¥æµè§ˆå™¨

### ç”Ÿäº§é˜¶æ®µ
1. ä¸»ç¨‹åºå¯åŠ¨æ—¶è‡ªåŠ¨å¯åŠ¨æµè§ˆå™¨è¿›ç¨‹
2. ä¼ é€’å‚æ•°: `BsBrowserClient.exe --port 9527 --platform YunDing28`

---

## âœ¨ æ€»ç»“

**ç°åœ¨çš„è®¾è®¡æ‰æ˜¯æ­£ç¡®çš„ï¼**

- ğŸ¯ **ç®€å•**: ä¸¤ä¸ªç‹¬ç«‹å·¥ç¨‹ï¼ŒSocket é€šä¿¡
- ğŸ¯ **æ¸…æ™°**: èŒè´£åˆ†ç¦»ï¼Œäº’ä¸å¹²æ‰°
- ğŸ¯ **å¯é **: è¿›ç¨‹éš”ç¦»ï¼Œå´©æºƒä¸å½±å“ä¸»ç¨‹åº
- ğŸ¯ **æ˜“ç»´æŠ¤**: Designer ç•Œé¢ï¼Œä»£ç ç»“æ„æ¸…æ™°

å°±åƒ `WeixinX` (C++) å’Œ `BaiShengVx3Plus` (C#) çš„å…³ç³»ä¸€æ ·ï¼

---

**ä¸‹ä¸€æ­¥**: å¼€å§‹è®¾è®¡ `BsBrowserClient` çš„ä¸»çª—ä½“ç•Œé¢ï¼ ğŸ¨

