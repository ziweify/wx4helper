# ä¼šå‘˜è§’è‰²ç³»ç»Ÿè¯´æ˜

## ğŸ“‹ ä¼šå‘˜çŠ¶æ€æšä¸¾ (MemberState)

**ä½ç½®**: `BaiShengVx3Plus/Models/Enums.cs`

```csharp
public enum MemberState
{
    å·²åˆ é™¤ = -1,    // å·²åˆ é™¤çš„ä¼šå‘˜
    éä¼šå‘˜ = 0,     // éä¼šå‘˜ï¼ˆæœªæ³¨å†Œï¼‰
    ä¼šå‘˜ = 1,       // æ™®é€šä¼šå‘˜
    æ‰˜ = 2,         // æ‰˜ï¼ˆç‰¹æ®Šè§’è‰²ï¼‰
    ç®¡ç† = 3,       // ç®¡ç†å‘˜
    å·²é€€ç¾¤ = 4,     // å·²é€€ç¾¤
    æ™®ä¼š = 5,       // æ™®é€šä¼šå‘˜ï¼ˆæ–°ï¼‰
    è“ä¼š = 6,       // è“è‰²ä¼šå‘˜ï¼ˆVIP 1ï¼‰
    ç´«ä¼š = 7        // ç´«è‰²ä¼šå‘˜ï¼ˆVIP 2ï¼‰
}
```

---

## ğŸ¯ è§’è‰²è¯´æ˜

### åŸºç¡€è§’è‰²

| è§’è‰² | å€¼ | å›¾æ ‡ | è¯´æ˜ |
|-----|-----|------|------|
| **å·²åˆ é™¤** | -1 | âŒ | å·²åˆ é™¤çš„ä¼šå‘˜ï¼Œä¸æ˜¾ç¤ºåœ¨åˆ—è¡¨ä¸­ |
| **éä¼šå‘˜** | 0 | â­• | éä¼šå‘˜ï¼Œæœªæ³¨å†Œ |
| **ä¼šå‘˜** | 1 | ğŸ‘¤ | æ™®é€šä¼šå‘˜ |
| **æ‰˜** | 2 | ğŸ¤– | æ‰˜ï¼ˆç‰¹æ®Šè§’è‰²ï¼Œç”¨äºæµ‹è¯•æˆ–æ¼”ç¤ºï¼‰ |
| **ç®¡ç†** | 3 | ğŸ‘‘ | ç®¡ç†å‘˜ï¼Œæ‹¥æœ‰æœ€é«˜æƒé™ |
| **å·²é€€ç¾¤** | 4 | ğŸšª | å·²é€€ç¾¤çš„ä¼šå‘˜ |

### VIP è§’è‰²ï¼ˆæ–°å¢ï¼‰

| è§’è‰² | å€¼ | å›¾æ ‡ | è¯´æ˜ |
|-----|-----|------|------|
| **æ™®ä¼š** | 5 | ğŸ‘¤ | æ™®é€šä¼šå‘˜ï¼ˆæ–°ç³»ç»Ÿï¼‰ |
| **è“ä¼š** | 6 | ğŸ’ | è“è‰²ä¼šå‘˜ï¼ˆVIP ç­‰çº§ 1ï¼‰ |
| **ç´«ä¼š** | 7 | ğŸ’œ | ç´«è‰²ä¼šå‘˜ï¼ˆVIP ç­‰çº§ 2ï¼‰ |

---

## ğŸ¨ å³é”®èœå•æ˜¾ç¤º

åœ¨ä¼šå‘˜è¡¨å³é”®èœå•ä¸­ï¼Œ"è®¾ç½®è§’è‰²" å­èœå•åŒ…å«ä»¥ä¸‹é€‰é¡¹ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ‘” è®¾ç½®è§’è‰²      â–¶  â”‚
â”‚   â”œâ”€ ğŸ‘‘ ç®¡ç†        â”‚ â† MemberState.ç®¡ç† (3)
â”‚   â”œâ”€ ğŸ¤– æ‰˜          â”‚ â† MemberState.æ‰˜ (2)
â”‚   â”œâ”€ ğŸ‘¤ æ™®ä¼š        â”‚ â† MemberState.æ™®ä¼š (5)
â”‚   â”œâ”€ ğŸ’ è“ä¼š        â”‚ â† MemberState.è“ä¼š (6)
â”‚   â””â”€ ğŸ’œ ç´«ä¼š        â”‚ â† MemberState.ç´«ä¼š (7)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”§ ä½¿ç”¨æ–¹å¼

### åœ¨ä»£ç ä¸­ä½¿ç”¨

```csharp
// è®¾ç½®ä¼šå‘˜è§’è‰²
member.State = MemberState.è“ä¼š;

// æ£€æŸ¥ä¼šå‘˜è§’è‰²
if (member.State == MemberState.ç®¡ç†)
{
    // ç®¡ç†å‘˜ç‰¹æƒæ“ä½œ
}

// åˆ¤æ–­æ˜¯å¦ä¸º VIP ä¼šå‘˜
bool isVip = member.State == MemberState.è“ä¼š || member.State == MemberState.ç´«ä¼š;
```

### åœ¨æ•°æ®åº“ä¸­å­˜å‚¨

è§’è‰²ä¼šä»¥æ•´æ•°å½¢å¼å­˜å‚¨åœ¨æ•°æ®åº“ä¸­ï¼š

| è§’è‰² | å­˜å‚¨å€¼ |
|-----|--------|
| å·²åˆ é™¤ | -1 |
| éä¼šå‘˜ | 0 |
| ä¼šå‘˜ | 1 |
| æ‰˜ | 2 |
| ç®¡ç† | 3 |
| å·²é€€ç¾¤ | 4 |
| æ™®ä¼š | 5 |
| è“ä¼š | 6 |
| ç´«ä¼š | 7 |

---

## ğŸ’¡ æ‰©å±•å»ºè®®

### æ·»åŠ æ–°è§’è‰²

å¦‚æœéœ€è¦æ·»åŠ æ–°è§’è‰²ï¼ˆä¾‹å¦‚ "é‡‘ä¼š"ï¼‰ï¼Œåªéœ€ï¼š

1. **åœ¨ Enums.cs ä¸­æ·»åŠ **ï¼š
```csharp
public enum MemberState
{
    // ... ç°æœ‰è§’è‰² ...
    ç´«ä¼š = 7,
    é‡‘ä¼š = 8        // ğŸ”¥ æ–°è§’è‰²
}
```

2. **åœ¨å³é”®èœå•ä¸­æ·»åŠ **ï¼ˆè®¾è®¡å™¨æˆ–ä»£ç ï¼‰ï¼š
```csharp
new ToolStripMenuItem("ğŸ† é‡‘ä¼š", null, OnMenuSetRole_Click) 
{ 
    Name = "menuRoleGold", 
    Tag = MemberState.é‡‘ä¼š 
}
```

3. **æ— éœ€ä¿®æ”¹å…¶ä»–ä»£ç **ï¼Œè§’è‰²ä¼šè‡ªåŠ¨ä¿å­˜åˆ°æ•°æ®åº“ï¼

---

## ğŸ¯ è§’è‰²æƒé™è®¾è®¡ï¼ˆå»ºè®®ï¼‰

è™½ç„¶å½“å‰ç³»ç»Ÿåªæ˜¯æ ‡è®°è§’è‰²ï¼Œä½†æœªæ¥å¯ä»¥åŸºäºè§’è‰²å®ç°æƒé™æ§åˆ¶ï¼š

```csharp
public static class MemberPermissions
{
    /// <summary>
    /// æ£€æŸ¥æ˜¯å¦ä¸ºç®¡ç†å‘˜
    /// </summary>
    public static bool IsAdmin(this V2Member member)
    {
        return member.State == MemberState.ç®¡ç†;
    }
    
    /// <summary>
    /// æ£€æŸ¥æ˜¯å¦ä¸º VIP ä¼šå‘˜
    /// </summary>
    public static bool IsVip(this V2Member member)
    {
        return member.State == MemberState.è“ä¼š 
            || member.State == MemberState.ç´«ä¼š;
    }
    
    /// <summary>
    /// æ£€æŸ¥æ˜¯å¦å¯ä»¥ä¸‹æ³¨
    /// </summary>
    public static bool CanBet(this V2Member member)
    {
        return member.State != MemberState.å·²åˆ é™¤ 
            && member.State != MemberState.å·²é€€ç¾¤
            && member.State != MemberState.éä¼šå‘˜;
    }
    
    /// <summary>
    /// è·å–ä¸‹æ³¨é™é¢ï¼ˆåŸºäºè§’è‰²ï¼‰
    /// </summary>
    public static float GetBetLimit(this V2Member member)
    {
        return member.State switch
        {
            MemberState.ç®¡ç† => float.MaxValue,    // æ— é™é¢
            MemberState.ç´«ä¼š => 100000f,          // 10 ä¸‡
            MemberState.è“ä¼š => 50000f,           // 5 ä¸‡
            MemberState.æ™®ä¼š => 10000f,           // 1 ä¸‡
            MemberState.ä¼šå‘˜ => 10000f,           // 1 ä¸‡
            _ => 0f                                // å…¶ä»–è§’è‰²æ— æ³•ä¸‹æ³¨
        };
    }
}
```

---

## ğŸ“Š è§’è‰²ç»Ÿè®¡ç¤ºä¾‹

```csharp
// ç»Ÿè®¡å„è§’è‰²äººæ•°
var roleStats = _membersBindingList
    .GroupBy(m => m.State)
    .Select(g => new 
    { 
        Role = g.Key, 
        Count = g.Count(),
        TotalBalance = g.Sum(m => m.Balance)
    })
    .OrderBy(x => x.Role);

foreach (var stat in roleStats)
{
    Console.WriteLine($"{stat.Role}: {stat.Count} äººï¼Œæ€»ä½™é¢: {stat.TotalBalance:F2}");
}

// è¾“å‡ºç¤ºä¾‹ï¼š
// æ™®ä¼š: 10 äººï¼Œæ€»ä½™é¢: 15000.00
// è“ä¼š: 5 äººï¼Œæ€»ä½™é¢: 50000.00
// ç´«ä¼š: 2 äººï¼Œæ€»ä½™é¢: 30000.00
// ç®¡ç†: 1 äººï¼Œæ€»ä½™é¢: 100000.00
```

---

## ğŸ”¥ æ€»ç»“

### å½“å‰å®ç°
- âœ… å®šä¹‰äº† 9 ç§ä¼šå‘˜è§’è‰²
- âœ… å³é”®èœå•å¯ä»¥å¿«é€Ÿè®¾ç½®è§’è‰²
- âœ… è§’è‰²è‡ªåŠ¨ä¿å­˜åˆ°æ•°æ®åº“
- âœ… æ”¯æŒåœ¨è®¾è®¡å™¨ä¸­å¯è§†åŒ–ç¼–è¾‘

### æœªæ¥æ‰©å±•
- ğŸ’¡ åŸºäºè§’è‰²çš„æƒé™æ§åˆ¶
- ğŸ’¡ åŸºäºè§’è‰²çš„ä¸‹æ³¨é™é¢
- ğŸ’¡ åŸºäºè§’è‰²çš„ç‰¹æ®ŠåŠŸèƒ½
- ğŸ’¡ è§’è‰²å¾½ç« æ˜¾ç¤ºåœ¨ä¼šå‘˜è¡¨ä¸­

---

**âœ… ä¼šå‘˜è§’è‰²ç³»ç»Ÿå·²å®Œæˆï¼**

2025-11-06

