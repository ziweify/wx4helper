# AutoBet æ¶æ„åˆ†æ - é‡æ„å‰

## ğŸ“‹ å½“å‰ç±»ç»“æ„

### Services å±‚ (9ä¸ªç±»)

1. **`AutoBetService.cs`** (1113è¡Œ)
   - **èŒè´£**: æ ¸å¿ƒæœåŠ¡ï¼Œç®¡ç†é…ç½®ã€æµè§ˆå™¨ã€è®¢å•é˜Ÿåˆ—
   - **é—®é¢˜**: 
     - âŒ ä½¿ç”¨ `_browsers` å­—å…¸ç®¡ç† `BrowserClient`ï¼ˆåº”è¯¥ç”±é…ç½®å¯¹è±¡ç®¡ç†ï¼‰
     - âŒ åŒ…å«å¤ªå¤šèŒè´£ï¼ˆé…ç½®ç®¡ç†ã€æµè§ˆå™¨ç®¡ç†ã€è®¢å•ç®¡ç†ã€æŠ•æ³¨é€»è¾‘ï¼‰
   - **ä¾èµ–**: `AutoBetSocketServer`, `AutoBetHttpServer`, `BrowserClient`, `BetConfig`

2. **`AutoBetCoordinator.cs`**
   - **èŒè´£**: åè°ƒå™¨ï¼Œå¤„ç†å¾®ä¿¡è®¢å•å¹¶è½¬å‘ç»™ `AutoBetService`
   - **çŠ¶æ€**: âœ… èŒè´£æ¸…æ™°ï¼Œå¿…è¦çš„
   - **ä¾èµ–**: `AutoBetService`, `OrderMerger`, `BetQueueManager`

3. **`AutoBetSocketServer.cs`**
   - **èŒè´£**: Socket æœåŠ¡å™¨ï¼Œæ¥æ”¶æµè§ˆå™¨è¿æ¥ï¼ˆç«¯å£ 19527ï¼‰
   - **çŠ¶æ€**: âœ… èŒè´£æ¸…æ™°ï¼Œå¿…è¦çš„
   - **ä¾èµ–**: `TcpListener`, `ClientConnection`

4. **`AutoBetHttpServer.cs`**
   - **èŒè´£**: HTTP æœåŠ¡å™¨ï¼Œæä¾›é…ç½® APIï¼ˆç«¯å£ 8888ï¼‰
   - **çŠ¶æ€**: âœ… èŒè´£æ¸…æ™°ï¼Œå¿…è¦çš„
   - **ä¾èµ–**: `HttpListener`

5. **`BrowserClient.cs`**
   - **èŒè´£**: æµè§ˆå™¨å®¢æˆ·ç«¯ï¼Œç®¡ç†æµè§ˆå™¨è¿›ç¨‹å’Œé€šä¿¡
   - **é—®é¢˜**: 
     - âš ï¸ ä¹‹å‰ç›´æ¥ç®¡ç† `TcpClient`ï¼Œç°å·²æ”¹ä¸ºä½¿ç”¨ `ClientConnection`
   - **çŠ¶æ€**: âœ… èŒè´£æ¸…æ™°ï¼Œå¿…è¦çš„
   - **ä¾èµ–**: `Process`, `ClientConnection`

6. **`BetQueueManager.cs`**
   - **èŒè´£**: ç®¡ç†æŠ•æ³¨é˜Ÿåˆ—
   - **é—®é¢˜**: 
     - âš ï¸ å¯èƒ½ä¸ `AutoBetService` çš„ `_orderQueues` é‡å¤
   - **çŠ¶æ€**: â“ éœ€è¦æ£€æŸ¥æ˜¯å¦å†—ä½™

7. **`BetRecordService.cs`**
   - **èŒè´£**: æŠ•æ³¨è®°å½•æ•°æ®åº“æœåŠ¡
   - **çŠ¶æ€**: âœ… èŒè´£æ¸…æ™°ï¼Œå¿…è¦çš„
   - **ä¾èµ–**: `SQLite`

8. **`OrderMerger.cs`**
   - **èŒè´£**: åˆå¹¶å¤šä¸ªè®¢å•
   - **çŠ¶æ€**: âœ… èŒè´£æ¸…æ™°ï¼Œå¿…è¦çš„

9. **`WindowHelper.cs`**
   - **èŒè´£**: Windows API è¾…åŠ©ï¼ˆæŸ¥æ‰¾çª—å£ï¼‰
   - **é—®é¢˜**: 
     - âŒ ä¹‹å‰ç”¨äºæŸ¥æ‰¾æµè§ˆå™¨çª—å£ï¼Œç°å·²ä¸å†ä½¿ç”¨
   - **çŠ¶æ€**: âŒ **å¯ä»¥åˆ é™¤**

### Models å±‚ (5ä¸ªç±»)

1. **`BetConfig.cs`**
   - **èŒè´£**: é…ç½®æ•°æ®æ¨¡å‹
   - **çŠ¶æ€**: âœ… å¿…è¦ï¼Œå·²é‡æ„æ·»åŠ  `Browser` å±æ€§

2. **`BetOrder.cs`**
   - **èŒè´£**: æŠ•æ³¨è®¢å•æ¨¡å‹
   - **çŠ¶æ€**: âœ… å¿…è¦

3. **`BetOrderRecord.cs`**
   - **èŒè´£**: æŠ•æ³¨è®°å½•ï¼ˆæ•°æ®åº“ï¼‰
   - **é—®é¢˜**: 
     - âš ï¸ å¯èƒ½ä¸ `BetRecord` é‡å¤
   - **çŠ¶æ€**: â“ éœ€è¦æ£€æŸ¥

4. **`BetRecord.cs`**
   - **èŒè´£**: æŠ•æ³¨è®°å½•æ¨¡å‹
   - **é—®é¢˜**: 
     - âš ï¸ å¯èƒ½ä¸ `BetOrderRecord` é‡å¤
   - **çŠ¶æ€**: â“ éœ€è¦æ£€æŸ¥

5. **`BetResult.cs`**
   - **èŒè´£**: æŠ•æ³¨ç»“æœ
   - **çŠ¶æ€**: âœ… å¿…è¦

## ğŸ” å†—ä½™åˆ†æ

### 1. `WindowHelper.cs` - **å¯åˆ é™¤**
- **åŸå› **: ä¹‹å‰ç”¨äºé€šè¿‡çª—å£æ ‡é¢˜æŸ¥æ‰¾æµè§ˆå™¨è¿›ç¨‹
- **ç°çŠ¶**: å·²æ”¹ä¸ºé€šè¿‡ Socket è¿æ¥å’Œè¿›ç¨‹IDç®¡ç†ï¼Œä¸å†éœ€è¦

### 2. `BetQueueManager` vs `AutoBetService._orderQueues`
éœ€è¦æ£€æŸ¥æ˜¯å¦é‡å¤ï¼š
- `AutoBetService` æœ‰ `_orderQueues` å­—æ®µ
- è¿˜æœ‰ç‹¬ç«‹çš„ `BetQueueManager` ç±»
- **å¯èƒ½å†—ä½™**

### 3. `BetOrderRecord` vs `BetRecord`
éœ€è¦æ£€æŸ¥æ˜¯å¦é‡å¤ï¼š
- ä¸¤è€…éƒ½æ˜¯æŠ•æ³¨è®°å½•
- å¯èƒ½ä¸€ä¸ªç”¨äºæ•°æ®åº“ï¼Œä¸€ä¸ªç”¨äºå†…å­˜
- **éœ€è¦æ£€æŸ¥ç”¨é€”**

## ğŸ¯ é‡æ„å»ºè®®

### ç«‹å³åˆ é™¤
1. âœ… `WindowHelper.cs` - ä¸å†ä½¿ç”¨

### éœ€è¦è¿›ä¸€æ­¥æ£€æŸ¥
1. â“ `BetQueueManager` - æ£€æŸ¥ä¸ `_orderQueues` æ˜¯å¦é‡å¤
2. â“ `BetOrderRecord` vs `BetRecord` - ç»Ÿä¸€æŠ•æ³¨è®°å½•æ¨¡å‹

### æ¶æ„ä¼˜åŒ–
1. âœ… **å·²å®Œæˆ**: é…ç½®å¯¹è±¡è‡ªå·±ç®¡ç† `Browser`ï¼ˆç§»é™¤ `_browsers` å­—å…¸ï¼‰
2. â¸ï¸ **å¾…å®š**: è€ƒè™‘æ‹†åˆ† `AutoBetService` çš„èŒè´£
   - é…ç½®ç®¡ç† â†’ `BetConfigManager`
   - æµè§ˆå™¨ç®¡ç† â†’ `BrowserManager`
   - æŠ•æ³¨é€»è¾‘ â†’ `BettingService`

## ğŸ“Š ä»£ç è¡Œæ•°ç»Ÿè®¡

| ç±» | è¡Œæ•° | å¤æ‚åº¦ |
|---|---|---|
| `AutoBetService.cs` | 1113 | ğŸ”´ é«˜ |
| `AutoBetCoordinator.cs` | ? | ? |
| `AutoBetSocketServer.cs` | ~250 | ğŸŸ¡ ä¸­ |
| `AutoBetHttpServer.cs` | ? | ? |
| `BrowserClient.cs` | ? | ? |
| `BetQueueManager.cs` | ? | ? |
| `BetRecordService.cs` | ? | ? |
| `OrderMerger.cs` | ? | ? |
| `WindowHelper.cs` | ~50 | ğŸŸ¢ ä½ (å¯åˆ ) |

---

## ç»“è®º

**æ˜ç¡®å¯åˆ é™¤**: 
- âœ… `WindowHelper.cs`

**éœ€è¦æ£€æŸ¥**:
- â“ `BetQueueManager`
- â“ `BetOrderRecord` vs `BetRecord`

**å»ºè®®ä¿ç•™å½“å‰é‡æ„æˆæœï¼Œæš‚ä¸åšè¿›ä¸€æ­¥å¤§è§„æ¨¡æ‹†åˆ†ï¼Œç­‰ç³»ç»Ÿç¨³å®šåå†ä¼˜åŒ–**

