# è®¾è®¡å™¨å½»åº•æ— æ³•ä½¿ç”¨çš„æœ€ç»ˆè§£å†³æ–¹æ¡ˆ

## ğŸ“‹ é—®é¢˜ç°çŠ¶

**ç—‡çŠ¶**ï¼š
- âœ… å·¥å…·æ å¯ä»¥é€‰ä¸­
- âŒ `splitContainerControl_Main` å†…éƒ¨çš„æ‰€æœ‰æ§ä»¶æ— æ³•é€‰ä¸­
- âŒ å³ä½¿ä½¿ç”¨æ–‡æ¡£å¤§çº²çª—å£é€‰ä¸­æ§ä»¶ï¼Œå±æ€§é¢æ¿ä»ç„¶æ˜¾ç¤º `splitContainerControl_Main` æˆ– `WechatPage`
- âš ï¸ å¶å°”èƒ½é€‰ä¸­æŸäº›æ§ä»¶ï¼Œä½†ä¸çŸ¥é“æ€ä¹ˆé€‰ä¸­çš„

**ç»“è®º**ï¼š
è®¾è®¡å™¨åœ¨è¿™ç§å¤æ‚çš„ DevExpress æ§ä»¶åµŒå¥—ä¸‹å·²ç»æ— æ³•æ­£å¸¸å·¥ä½œã€‚è¿™æ˜¯ä¸€ä¸ªå·²çŸ¥çš„ DevExpress + WinForms è®¾è®¡å™¨çš„å…¼å®¹æ€§é—®é¢˜ã€‚

---

## âœ… æœ€ç»ˆè§£å†³æ–¹æ¡ˆ

æ—¢ç„¶è®¾è®¡å™¨æ— æ³•ä½¿ç”¨ï¼Œæˆ‘ä»¬é‡‡ç”¨ä»¥ä¸‹ç­–ç•¥ï¼š

### æ–¹æ¡ˆAï¼šç›´æ¥ç¼–è¾‘ Designer.csï¼ˆæ¨èï¼‰

è¿™æ˜¯ç›®å‰æœ€å¯é çš„æ–¹æ³•ï¼Œç›´æ¥åœ¨ä»£ç ä¸­ä¿®æ”¹å¸ƒå±€ã€‚

#### ç¤ºä¾‹ï¼šè°ƒæ•´ panelControl_OpenData çš„é«˜åº¦

```csharp
// åœ¨ WechatPage.Designer.cs çš„ InitializeComponent() æ–¹æ³•ä¸­æ‰¾åˆ°
// panelControl_OpenData çš„è®¾ç½®éƒ¨åˆ†ï¼š

panelControl_OpenData.Controls.Add(labelControl_CurrentLottery);
panelControl_OpenData.Controls.Add(labelControl_LastLottery);
panelControl_OpenData.Dock = System.Windows.Forms.DockStyle.Top;
panelControl_OpenData.Location = new System.Drawing.Point(2, 51);
panelControl_OpenData.Size = new System.Drawing.Size(240, 300);  // â† ä¿®æ”¹é«˜åº¦ï¼ˆåŸæ¥æ˜¯ 243ï¼‰
```

#### ç¤ºä¾‹ï¼šè°ƒæ•´å·¦ä¾§é¢æ¿çš„å®½åº¦

```csharp
// ä¿®æ”¹ splitContainerControl_Main çš„ SplitterPosition
splitContainerControl_Main.SplitterPosition = 300;  // â† ä¿®æ”¹å®½åº¦ï¼ˆåŸæ¥æ˜¯ 244ï¼‰
```

#### ç¤ºä¾‹ï¼šå–æ¶ˆæŸä¸ªæ§ä»¶çš„ Dock

```csharp
// æ‰¾åˆ°æ§ä»¶è®¾ç½®
panelControl_FastSetting.Dock = System.Windows.Forms.DockStyle.None;  // â† å–æ¶ˆ Dock
panelControl_FastSetting.Location = new System.Drawing.Point(2, 600);
panelControl_FastSetting.Size = new System.Drawing.Size(240, 300);
```

---

### æ–¹æ¡ˆBï¼šåˆ›å»ºè¾…åŠ©è®¾è®¡å™¨

åˆ›å»ºä¸€ä¸ªç®€å•çš„ Form ç”¨äºè®¾è®¡å•ä¸ªæ§ä»¶ï¼Œç„¶åå¤åˆ¶åˆ° WechatPageï¼š

#### æ­¥éª¤1ï¼šåˆ›å»ºæµ‹è¯• Form

```csharp
// 1. æ·»åŠ æ–°é¡¹ â†’ Windows çª—ä½“ â†’ DesignHelper.cs
// 2. åœ¨è®¾è®¡å™¨ä¸­è®¾è®¡å•ä¸ªæ§ä»¶çš„å¸ƒå±€
// 3. å¤åˆ¶ Designer.cs ä¸­çš„ä»£ç åˆ° WechatPage.Designer.cs
```

#### æ­¥éª¤2ï¼šåœ¨æµ‹è¯• Form ä¸­è®¾è®¡

```csharp
public partial class DesignHelper : Form
{
    // åªåŒ…å«ä¸€ä¸ª PanelControlï¼Œç”¨äºè®¾è®¡å¸ƒå±€
    private DevExpress.XtraEditors.PanelControl panelControl_Test;
    
    public DesignHelper()
    {
        InitializeComponent();
    }
}
```

#### æ­¥éª¤3ï¼šå¤åˆ¶ä»£ç 

åœ¨ DesignHelper çš„è®¾è®¡å™¨ä¸­è°ƒæ•´å¥½å¸ƒå±€åï¼Œå¤åˆ¶ç›¸å…³ä»£ç åˆ° WechatPage.Designer.csã€‚

---

### æ–¹æ¡ˆCï¼šä½¿ç”¨ä»£ç æ–¹å¼å¸ƒå±€ï¼ˆæ¨èé•¿æœŸæ–¹æ¡ˆï¼‰

æ”¾å¼ƒè®¾è®¡å™¨ï¼Œå®Œå…¨ä½¿ç”¨ä»£ç æ¥ç®¡ç†å¸ƒå±€ã€‚

#### åˆ›å»ºå¸ƒå±€ç®¡ç†ç±»

```csharp
// æ–‡ä»¶ï¼šViews/Wechat/WechatPageLayout.cs
namespace æ°¸åˆ©ç³»ç»Ÿ.Views.Wechat
{
    /// <summary>
    /// WechatPage å¸ƒå±€ç®¡ç†
    /// </summary>
    public static class WechatPageLayout
    {
        /// <summary>
        /// åº”ç”¨å¸ƒå±€è®¾ç½®
        /// </summary>
        public static void ApplyLayout(WechatPage page)
        {
            // å·¦ä¾§é¢æ¿å®½åº¦
            page.SplitContainerMain.SplitterPosition = 300;
            
            // è°ƒæ•´ panelControl_OpenData é«˜åº¦
            var openDataPanel = page.PanelOpenData;
            if (openDataPanel != null)
            {
                openDataPanel.Dock = DockStyle.None;
                openDataPanel.Location = new Point(2, 51);
                openDataPanel.Size = new Size(296, 250);  // è‡ªå®šä¹‰é«˜åº¦
            }
            
            // è°ƒæ•´å…¶ä»–æ§ä»¶...
        }
    }
}
```

#### åœ¨ WechatPage ä¸­è°ƒç”¨

```csharp
public WechatPage()
{
    InitializeComponent();
    
    if (IsDesignMode())
        return;
    
    // åº”ç”¨è‡ªå®šä¹‰å¸ƒå±€
    WechatPageLayout.ApplyLayout(this);
    
    // ... å…¶ä»–åˆå§‹åŒ–ä»£ç 
}
```

---

## ğŸ”§ ä¸´æ—¶è§£å†³æ–¹æ¡ˆï¼šæ¸…ç†å¹¶é‡å»º

æœ‰æ—¶è®¾è®¡å™¨ç¼“å­˜æŸåä¼šå¯¼è‡´é—®é¢˜ï¼Œå°è¯•æ¸…ç†ï¼š

### æ­¥éª¤1ï¼šæ¸…ç†é¡¹ç›®

```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œ
cd æ°¸åˆ©ç³»ç»Ÿ
Remove-Item -Recurse -Force bin,obj
```

### æ­¥éª¤2ï¼šæ¸…ç† Visual Studio ç¼“å­˜

```bash
# å…³é—­ Visual Studio
# åˆ é™¤ä»¥ä¸‹æ–‡ä»¶å¤¹ï¼ˆå¯é€‰ï¼‰
%LocalAppData%\Microsoft\VisualStudio\17.0\ComponentModelCache
```

### æ­¥éª¤3ï¼šé‡æ–°ç”Ÿæˆ

```bash
dotnet clean
dotnet build
```

### æ­¥éª¤4ï¼šé‡æ–°æ‰“å¼€è®¾è®¡å™¨

1. é‡æ–°å¯åŠ¨ Visual Studio
2. æ‰“å¼€é¡¹ç›®
3. å°è¯•æ‰“å¼€è®¾è®¡å™¨

---

## ğŸ“ ç›´æ¥ç¼–è¾‘ Designer.cs çš„å¿«é€Ÿå‚è€ƒ

### å¸¸ç”¨æ§ä»¶å±æ€§ä¿®æ”¹

```csharp
// å–æ¶ˆ Dock
control.Dock = DockStyle.None;

// è®¾ç½®ä½ç½®
control.Location = new Point(x, y);

// è®¾ç½®å¤§å°
control.Size = new Size(width, height);

// è®¾ç½® Dock
control.Dock = DockStyle.Top;     // åœé é¡¶éƒ¨
control.Dock = DockStyle.Bottom;  // åœé åº•éƒ¨
control.Dock = DockStyle.Left;    // åœé å·¦ä¾§
control.Dock = DockStyle.Right;   // åœé å³ä¾§
control.Dock = DockStyle.Fill;    // å¡«å……å‰©ä½™ç©ºé—´

// è°ƒæ•´åˆ†éš”æ¡ä½ç½®
splitContainer.SplitterPosition = 300;

// è®¾ç½®å¯è§æ€§
control.Visible = true;

// è®¾ç½®å¯ç”¨çŠ¶æ€
control.Enabled = true;
```

### æŸ¥æ‰¾æ§ä»¶é…ç½®çš„ä½ç½®

åœ¨ `WechatPage.Designer.cs` ä¸­æœç´¢æ§ä»¶åç§°ï¼Œä¾‹å¦‚ï¼š

```csharp
// æœç´¢ "panelControl_OpenData" æ‰¾åˆ°ç±»ä¼¼è¿™æ ·çš„ä»£ç å—ï¼š
// 
// panelControl_OpenData
// 
panelControl_OpenData.Controls.Add(labelControl_CurrentLottery);
panelControl_OpenData.Controls.Add(labelControl_LastLottery);
panelControl_OpenData.Dock = System.Windows.Forms.DockStyle.Top;
panelControl_OpenData.Location = new System.Drawing.Point(2, 51);
panelControl_OpenData.Margin = new System.Windows.Forms.Padding(3, 4, 3, 4);
panelControl_OpenData.Name = "panelControl_OpenData";
panelControl_OpenData.Size = new System.Drawing.Size(240, 243);
panelControl_OpenData.TabIndex = 2;
```

---

## ğŸ¯ æ¨èå·¥ä½œæµç¨‹

### æ—¥å¸¸å¼€å‘

1. **éœ€è¦è°ƒæ•´å¸ƒå±€æ—¶**ï¼š
   - ç›´æ¥ç¼–è¾‘ `WechatPage.Designer.cs`
   - ä¿®æ”¹æ§ä»¶çš„ Location, Size, Dock ç­‰å±æ€§
   - ä¿å­˜å¹¶è¿è¡Œç¨‹åºæŸ¥çœ‹æ•ˆæœ

2. **éœ€è¦æ·»åŠ æ–°æ§ä»¶æ—¶**ï¼š
   - åœ¨ Designer.cs ä¸­æ‰‹åŠ¨æ·»åŠ æ§ä»¶å£°æ˜
   - åœ¨ InitializeComponent() ä¸­æ·»åŠ åˆå§‹åŒ–ä»£ç 
   - å‚è€ƒç°æœ‰æ§ä»¶çš„ä»£ç æ ¼å¼

3. **éœ€è¦å¤æ‚å¸ƒå±€æ—¶**ï¼š
   - åˆ›å»ºè¾…åŠ© Form ç”¨äºè®¾è®¡
   - æˆ–ä½¿ç”¨ä»£ç æ–¹å¼ç®¡ç†å¸ƒå±€

### æ·»åŠ æ–°æ§ä»¶çš„æ¨¡æ¿

```csharp
// 1. åœ¨å­—æ®µå£°æ˜åŒºåŸŸæ·»åŠ 
private DevExpress.XtraEditors.LabelControl labelControl_New;

// 2. åœ¨ InitializeComponent() å¼€å¤´æ·»åŠ å®ä¾‹åŒ–
labelControl_New = new DevExpress.XtraEditors.LabelControl();

// 3. åœ¨ InitializeComponent() ä¸­æ·»åŠ åˆ°å®¹å™¨
panelControl_Parent.Controls.Add(labelControl_New);

// 4. åœ¨ InitializeComponent() ä¸­é…ç½®å±æ€§
// 
// labelControl_New
// 
labelControl_New.Location = new System.Drawing.Point(10, 10);
labelControl_New.Name = "labelControl_New";
labelControl_New.Size = new System.Drawing.Size(100, 20);
labelControl_New.TabIndex = 0;
labelControl_New.Text = "æ–°æ ‡ç­¾";

// 5. åœ¨ ResumeLayout å‰ç¡®ä¿æ²¡æœ‰ SuspendLayout é”™è¯¯
```

---

## ğŸ’¡ å…¶ä»–å»ºè®®

### è€ƒè™‘ç®€åŒ–å¸ƒå±€

å¦‚æœè®¾è®¡å™¨æŒç»­æ— æ³•ä½¿ç”¨ï¼Œè€ƒè™‘ï¼š
1. å‡å°‘åµŒå¥—å±‚æ¬¡
2. ä½¿ç”¨æ›´ç®€å•çš„å®¹å™¨æ§ä»¶
3. é¿å…è¿‡åº¦ä½¿ç”¨ Dock å±æ€§

### ä½¿ç”¨ç¬¬ä¸‰æ–¹å·¥å…·

- **AvalonDock**ï¼šæ›´ç°ä»£çš„åœé é¢æ¿åº“
- **WeifenLuo.WinFormsUI.Docking**ï¼šå¼€æºçš„åœé è§£å†³æ–¹æ¡ˆ

### è€ƒè™‘å‡çº§æŠ€æœ¯æ ˆ

å¦‚æœé¡¹ç›®å…è®¸ï¼Œè€ƒè™‘ï¼š
- å‡çº§åˆ° WPFï¼ˆæ›´å¥½çš„è®¾è®¡å™¨æ”¯æŒï¼‰
- ä½¿ç”¨ AvaloniaUIï¼ˆè·¨å¹³å°ï¼‰
- æˆ–è€…ä½¿ç”¨ Blazorï¼ˆWeb æŠ€æœ¯ï¼‰

---

## ğŸ¯ æ€»ç»“

**ç°å®æƒ…å†µ**ï¼š
- DevExpress + å¤æ‚åµŒå¥— = è®¾è®¡å™¨ä¸å¯ç”¨
- è¿™æ˜¯å·²çŸ¥çš„å…¼å®¹æ€§é—®é¢˜

**æœ€ä½³å®è·µ**ï¼š
1. âœ… ç›´æ¥ç¼–è¾‘ Designer.cs
2. âœ… ä½¿ç”¨ä»£ç ç®¡ç†å¸ƒå±€
3. âš ï¸ åˆ›å»ºè¾…åŠ© Form è®¾è®¡å•ä¸ªæ§ä»¶
4. âŒ ä¸è¦ä¾èµ–è®¾è®¡å™¨

**é•¿æœŸå»ºè®®**ï¼š
- å»ºç«‹ä»£ç å¸ƒå±€ç®¡ç†ç³»ç»Ÿ
- æ–‡æ¡£åŒ–å¸ƒå±€å‚æ•°
- è€ƒè™‘æŠ€æœ¯æ ˆå‡çº§

---

**æœ€åæ›´æ–°**: 2025-12-25  
**çŠ¶æ€**: è®¾è®¡å™¨ä¸å¯ç”¨ï¼Œæ”¹ç”¨ä»£ç æ–¹å¼

