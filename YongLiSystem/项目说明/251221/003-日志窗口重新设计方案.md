# æ—¥å¿—çª—å£é‡æ–°è®¾è®¡æ–¹æ¡ˆ

**ğŸ“… æ—¥æœŸ**: 2025-12-21  
**ğŸ“Œ ä¸»é¢˜**: ä½¿ç”¨ SplitContainer é‡æ–°è®¾è®¡æ—¥å¿—çª—å£ï¼Œæ”¯æŒè®¾è®¡å™¨ç¼–è¾‘  
**ğŸ“„ æ–‡ä»¶ç¼–å·**: 251221-003

---

## ğŸ¯ éœ€æ±‚

1. **è®¾è®¡å™¨æ”¯æŒ**ï¼šèƒ½åœ¨ Visual Studio è®¾è®¡å™¨ä¸­ç›´æ¥çœ‹åˆ°å’Œç¼–è¾‘
2. **åˆ†éš”çª—å£**ï¼šä¸Šä¸‹åˆ†å‰²ï¼Œå¯è°ƒæ•´å¤§å°
3. **é»˜è®¤éšè—**ï¼šé»˜è®¤ä¸æ˜¾ç¤ºä¸‹æ–¹æ—¥å¿—çª—å£
4. **åŠ¨æ€æ˜¾ç¤º**ï¼šç‚¹å‡»ååˆå§‹åŒ–å¹¶æ˜¾ç¤ºï¼Œå¯æ‹–åŠ¨è°ƒæ•´é«˜åº¦
5. **ç‹¬ç«‹çª—å£**ï¼šå¯æ‹–å‡ºæˆä¸ºç‹¬ç«‹çª—å£
6. **è‡ªåŠ¨æ¢å¤**ï¼šå…³é—­åè‡ªåŠ¨æ¢å¤åˆ°åŸä½

---

## ğŸ’¡ å®ç°æ–¹æ¡ˆ

### æ–¹æ¡ˆï¼šä½¿ç”¨ SplitContainer + DockPanel

DevExpress çš„ `DockManager` å’Œ `DockPanel` æ­£å¥½æ»¡è¶³è¿™äº›éœ€æ±‚ï¼

#### æ¶æ„è®¾è®¡

```
Main.cs (RibbonForm)
â”œâ”€â”€ contentPanel (Panel)
â”‚   â”œâ”€â”€ splitContainerControl1 (SplitContainerControl)
â”‚   â”‚   â”œâ”€â”€ Panel1 (ä¸»å†…å®¹åŒºåŸŸ)
â”‚   â”‚   â”‚   â””â”€â”€ å½“å‰é¡µé¢å†…å®¹
â”‚   â”‚   â””â”€â”€ Panel2 (æ—¥å¿—åŒºåŸŸï¼Œåˆå§‹ Collapsed)
â”‚   â”‚       â””â”€â”€ logGridControl (GridControl)
â”‚   â””â”€â”€ dockManager1 (DockManager)
â”‚       â””â”€â”€ ç®¡ç†å¯åœé é¢æ¿
```

#### ä¼˜ç‚¹

1. âœ… **åœ¨è®¾è®¡å™¨ä¸­å®Œå…¨å¯è§å’Œå¯ç¼–è¾‘**
2. âœ… **SplitContainer æä¾›åˆ†éš”å’Œè°ƒæ•´å¤§å°åŠŸèƒ½**
3. âœ… **DockManager æä¾›æ‹–å‡º/åœé åŠŸèƒ½**
4. âœ… **Panel2.Collapsed = true å®ç°é»˜è®¤éšè—**
5. âœ… **å®Œæ•´çš„ DevExpress åœé ä½“éªŒ**

---

## ğŸ“ å®æ–½æ­¥éª¤

### æ­¥éª¤1ï¼šåœ¨ Main.Designer.cs ä¸­æ·»åŠ æ§ä»¶

```csharp
// æ·»åŠ åˆ° Main.Designer.cs
private DevExpress.XtraEditors.SplitContainerControl splitContainerControl1;
private DevExpress.XtraGrid.GridControl logGridControl;
private DevExpress.XtraGrid.Views.Grid.GridView logGridView;
private DevExpress.XtraBars.Docking.DockManager dockManager1;
```

### æ­¥éª¤2ï¼šåœ¨è®¾è®¡å™¨ä¸­é…ç½®

1. åˆ é™¤å½“å‰çš„ä»£ç åˆ›å»ºçš„ LogWindow
2. æ‰“å¼€ Main.cs è®¾è®¡å™¨
3. ä»å·¥å…·ç®±æ‹–å…¥ `SplitContainerControl` åˆ° contentPanel
4. è®¾ç½® Dock = Fill
5. è®¾ç½® Orientation = Horizontal (ä¸Šä¸‹åˆ†å‰²)
6. Panel2.Collapsed = true (é»˜è®¤æŠ˜å )
7. åœ¨ Panel2 ä¸­æ·»åŠ  GridControl
8. é…ç½® GridView å’Œåˆ—

### æ­¥éª¤3ï¼šä¿®æ”¹ä»£ç é€»è¾‘

```csharp
// Main.cs
private void ToggleLogWindow()
{
    // åˆ‡æ¢ Panel2 çš„æŠ˜å çŠ¶æ€
    splitContainerControl1.Panel2.Collapsed = !splitContainerControl1.Panel2.Collapsed;
    
    // é¦–æ¬¡æ‰“å¼€æ—¶åŠ è½½å†å²æ—¥å¿—
    if (!splitContainerControl1.Panel2.Collapsed && !_isLogHistoryLoaded)
    {
        _isLogHistoryLoaded = true;
        LoadLogHistory();
    }
}

private void LoadLogHistory()
{
    var history = LoggingService.Instance.GetMemoryHistory();
    logGridControl.DataSource = history;
}
```

---

## ğŸ”§ è¯¦ç»†å®ç°

å¾…å®æ–½...

---

**è¯´æ˜æ–‡ä»¶ç¼–å·**: 251221-003-æ—¥å¿—çª—å£é‡æ–°è®¾è®¡  
**åˆ›å»ºæ—¶é—´**: 2025-12-21  
**æ–‡ä»¶ç±»å‹**: è®¾è®¡æ–¹æ¡ˆ  
**ç‰ˆæœ¬**: v1.0

