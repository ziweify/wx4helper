# 项目说明文件命名规则

**📅 创建日期**: 2025-12-20  
**🎯 目的**: 规范项目说明文档的命名方式和目录结构  
**⚠️ 重要性**: 🔴 极高（必须严格遵守）  
**适用范围**: 所有在 `永利系统/项目说明/` 目录下创建的文件

---

## 📂 目录结构规则

### 必须遵守的目录结构

```
./永利系统/项目说明/
├── 目录.md                    # 目录索引文件（必须维护）
├── README-命名规则.md         # 命名规则说明
├── YYMMDD/                    # 按日期创建子文件夹
│   ├── 001-简略标题.md
│   ├── 002-简略标题.md
│   └── ...
└── YYMMDD/                    # 另一天的文件夹
    └── ...
```

### 关键规则

1. **根目录不直接存放说明文件**
   - ✅ 只存放规则文件和目录索引
   - ❌ 不要直接在根目录创建 `YYMMDD-NNN-标题.md` 格式的文件

2. **必须按日期创建子文件夹**
   - 格式：`YYMMDD`（6位数字）
   - 例如：`251219/`（2025-12-19）、`251220/`（2025-12-20）
   - 如果文件夹不存在，必须先创建

3. **文件放在对应日期的文件夹内**
   - 2025-12-20 的文件 → `251220/` 文件夹
   - 2025-12-21 的文件 → `251221/` 文件夹

---

## 📋 文件命名格式

### 格式

```
NNN-简略标题.md
```

### 格式说明

- **NNN**: 当日文件索引（3位数字，从001开始）
  - 第1个文件: `001`
  - 第2个文件: `002`
  - 第3个文件: `003`
  - 每天从 `001` 重新开始

- **简略标题**: 文件内容的简短描述（10个字以内，中文）
  - 必须简短明了
  - 一眼能看出做了什么
  - 使用中划线 `-` 连接

- **扩展名**: `.md`（Markdown格式）

### 完整路径示例

```
./永利系统/项目说明/251220/001-Ribbon布局详解.md
./永利系统/项目说明/251220/002-多标签页示例.md
./永利系统/项目说明/251221/001-新功能开发.md
```

---

## 📑 目录索引文件维护规则

### 文件位置

```
./永利系统/项目说明/目录.md
```

### 必须维护

- ✅ **每次创建新文件后，必须更新 `目录.md`**
- ✅ 使用 Markdown 格式，按日期分组
- ✅ 使用链接格式，方便跳转
- ✅ 最新日期放在最前面

### 格式示例

```markdown
## 2025-12-20

- [001-Ribbon布局详解](251220/001-Ribbon布局详解.md)
- [002-多标签页示例](251220/002-多标签页示例.md)

## 2025-12-19

- [001-MVVM架构重构](251219/001-MVVM架构重构.md)
- [002-本地DLL引用](251219/002-本地DLL引用.md)
```

---

## ✅ 创建文件的标准流程

### 步骤1: 确定日期和文件夹

```csharp
// 获取当前日期
var today = DateTime.Now;
var dateFolder = today.ToString("yyMMdd"); // 例如: "251220"

// 检查文件夹是否存在
var folderPath = Path.Combine("永利系统", "项目说明", dateFolder);
if (!Directory.Exists(folderPath))
{
    Directory.CreateDirectory(folderPath);
}
```

### 步骤2: 确定索引号

```csharp
// 检查该日期文件夹内已有文件数量
var existingFiles = Directory.GetFiles(folderPath, "*.md");
var nextIndex = existingFiles.Length + 1;
var indexString = nextIndex.ToString("000"); // 例如: "003"
```

### 步骤3: 创建文件

```csharp
// 创建文件（标题在10字以内）
var fileName = $"{indexString}-简略标题.md";
var filePath = Path.Combine(folderPath, fileName);
// 创建文件内容...
```

### 步骤4: 更新目录.md

```markdown
## 2025-12-20

- [001-Ribbon布局详解](251220/001-Ribbon布局详解.md)
- [002-多标签页示例](251220/002-多标签页示例.md)
- [003-新文件标题](251220/003-新文件标题.md)  ← 添加这一行
```

---

## 🎯 判断标准

### 何时需要创建日期文件夹

✅ **需要创建的情况**:
- 当天第一次创建文件
- 日期文件夹不存在

❌ **不需要创建的情况**:
- 日期文件夹已存在
- 在同一天创建第二个及后续文件

### 何时需要更新目录.md

✅ **必须更新的情况**:
- 创建了新的说明文件
- 文件被移动或重命名

❌ **不需要更新的情况**:
- 只修改了文件内容（不改变文件名或位置）

---

## 📝 标准操作模板

### 模板1: 创建新文件

```
1. 确定日期: YYMMDD
2. 检查/创建文件夹: ./永利系统/项目说明/YYMMDD/
3. 确定索引: 检查文件夹内文件数量，确定下一个索引号
4. 创建文件: YYMMDD/NNN-简略标题.md
5. 更新目录: 在目录.md中添加新文件链接
```

### 模板2: 更新目录.md

```markdown
## YYYY-MM-DD

- [NNN-标题](YYMMDD/NNN-标题.md)
```

---

## 🚫 常见错误示例

### 错误1: 直接在根目录创建文件

**错误做法** ❌:
```
./永利系统/项目说明/251220-001-标题.md
```

**正确做法** ✅:
```
./永利系统/项目说明/251220/001-标题.md
```

### 错误2: 忘记创建日期文件夹

**错误做法** ❌:
```csharp
// 直接创建文件，不检查文件夹
var filePath = "永利系统/项目说明/251220/001-标题.md";
File.WriteAllText(filePath, content); // 可能失败
```

**正确做法** ✅:
```csharp
// 先创建文件夹
var folderPath = "永利系统/项目说明/251220";
if (!Directory.Exists(folderPath))
{
    Directory.CreateDirectory(folderPath);
}
// 再创建文件
var filePath = Path.Combine(folderPath, "001-标题.md");
File.WriteAllText(filePath, content);
```

### 错误3: 忘记更新目录.md

**错误做法** ❌:
- 创建了文件，但没有更新目录.md

**正确做法** ✅:
- 创建文件后，立即更新目录.md

---

## ✅ 最佳实践总结

### DO ✅

1. **按日期创建子文件夹**
2. **文件命名格式**: `NNN-简略标题.md`
3. **每次创建文件后更新目录.md**
4. **标题控制在10字以内**
5. **使用中文标题**

### DON'T ❌

1. **不要在根目录直接创建文件**
2. **不要忘记创建日期文件夹**
3. **不要忘记更新目录.md**
4. **不要使用过长的标题（超过10字）**
5. **不要在文件名中包含日期（日期在文件夹名中）**

---

## 📊 决策流程图

```
开始
  ↓
获取当前日期 (YYMMDD)
  ↓
日期文件夹是否存在？
  ├─ 否 → 创建文件夹
  └─ 是 → 继续
  ↓
检查文件夹内文件数量
  ↓
确定下一个索引号 (NNN)
  ↓
创建文件: YYMMDD/NNN-标题.md
  ↓
更新目录.md
  ↓
结束
```

---

## 🔍 故障排查

### 如果文件创建失败

1. **检查文件夹是否存在**
   - 如果不存在 → 先创建文件夹

2. **检查文件路径是否正确**
   - 路径格式：`YYMMDD/NNN-标题.md`
   - 不要包含日期前缀在文件名中

3. **检查目录.md是否更新**
   - 如果未更新 → 立即更新

---

## 📚 相关文档

- **详细规则**: `永利系统/项目说明/README-命名规则.md`
- **目录索引**: `永利系统/项目说明/目录.md`
- **迁移指南**: `永利系统/项目说明/迁移指南.md`

---

**规则版本**: v2.0  
**创建日期**: 2025-12-20  
**最后更新**: 2025-12-20  
**强制执行**: 是 ✅

